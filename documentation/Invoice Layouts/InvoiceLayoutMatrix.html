<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Invoice Layout Matrix | tegos Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Invoice Layout Matrix | tegos Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    <meta name="robots" content="noindex">
    
    <link rel="shortcut icon" href="../../images/logos/tegos_favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../images/logos/logo-tegos-white.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="InvoiceLayoutMatrix">
<h1 id="invoice-layout-matrix">Invoice Layout Matrix</h1>

<h2 id="overview">Overview</h2>
<p>Any number of invoice layouts can be saved in the system for each external account (customer and vendor). Document lines pertaining to the same external account, the same currency code and the same invoice layout code will be summarized and sorted into combine invoices.</p>
<p>This function makes it easy for users to show, for example, sub-activities with a specific customer that should always be put into their own invoices, as well as a certain sorting or invoice design that differs from the other invoices for this customer.</p>
<p>It is not necessary to assign one or multiple invoice layouts to each external account. The same invoice layout can be used for several external accounts (the invoices are automatically separated by the different customers and vendors.</p>
<p>The invoice layout associated with a document line to be invoiced must be recognized before the combine invoice because the invoice layout code itself is a criterion for the combine invoice.</p>
<p>How to assign an invoice layout code to an order line before the combine invoice will be explained in detail below:</p>
<h2 id="invoice-layout-matrix-1">Invoice Layout Matrix</h2>
<h3 id="general-information">General Information</h3>
<p>enwis) has to know the invoice layout to be invoiced with before it begins the combine invoice, because the invoices to be generated are automatically separated by invoice layout code and, afterwards, a specific invoice layout can no longer be assigned to an external account. This is done on the order line by filling in the <em>Invoice Layout Code</em> field.</p>
<p>The <em>Invoice Layout Code</em> field has to be filled in before the <em>completed orders</em> are created so that the subsequent combine invoice can refer to it. In general, there are four methods for doing this:</p>
<h3 id="contract">Contract</h3>
<p>The person in charge can fill out the <em>Invoice Layout Code</em> field manually in the contract. In this case, the invoice layout code is automatically copied to the sales order when the order is created from the contract, and from there it is copied unchanged to the</p>
<p><em><span class="smallcaps">Completed Order</span></em></p>
<p>. This is definitely a practical method for managing certain business cases what should be invoiced separately.</p>
<h3 id="sales-order">Sales Order</h3>
<p>The person in charge can fill out or edit the <em>Invoice Layout Code</em> field manually in the sales order. This allows the invoice layout code to be copied over when the sales order is transferred into a completed order. Normally, this is only done in exceptional cases, because it would take too much effort to flag each order line with an invoice layout code manually.</p>
<h3 id="release-function">Release Function</h3>
<p>When sales orders are released, the invoice layout code is determined according to job-specific criteria saved in the <em>Release Function</em> under the</p>
<p><span class="smallcaps">Status</span></p>
<p>tab in</p>
<p><em><span class="smallcaps">Waste Management Setup</span></em></p>
<p>and copied from there to the document lines. This procedure is possible but not recommendable, because the system requires additional processing time to do so. The default procedures available should be more than adequate.</p>
<h2 id="invoice-layout-matrix-2">Invoice Layout Matrix</h2>
<p>When the sales order is released, the invoice layout code is automatically determined using the invoice layout matrix and copied from there to the document lines. This method will be described in further detail below. Combined with the manual assignment of an invoice layout in the contract, this is surely the most efficient and, for users, easiest way to handle the many options for assigning invoice layouts.</p>
<h3 id="matrix-setup">Matrix Setup</h3>
<p>The invoice layout matrix works similarly to the other known matrices in enwis), e.g. the rental invoice matrix. It determines an invoice layout code by finding the matrix entry that exactly matches the current business case.</p>
<p><img src="../../images/image1.png" alt=""></p>
<p>In doing so, it compares the order line to the invoice layout matrix. In the example above, the settings define that the invoice layout PAPER should be used when</p>
<p><u>all</u></p>
<p>of the following conditions apply:</p>
<ul>
<li><p>The order type is &quot;sales&quot;.</p>
</li>
<li><p>The sale will be invoiced to customer C00040.</p>
</li>
<li><p>The material was purchased from vendor V00020.</p>
</li>
<li><p>The business case was settled through the site LONDON.</p>
</li>
</ul>
<p>When the transaction is a sale but the other defined criteria in a line in the invoice layout matrix do not apply to this business case, then the STANDARD invoice layout will be used in this example. It is defined here as the lowest common denominator: all sales that meet other criteria than those defined.</p>
<p>This example illustrates that new customers and vendors do not necessarily have to be assigned their own invoice layout. According to the setup of the invoice layout matrix described above, they will automatically be assigned the STANDARD invoice layout code.</p>
<p>The following criteria can be applied to the invoice layout code in the invoice layout matrix:</p>
<ul>
<li><p>Invoice Layout Reference 1</p>
</li>
<li><p>Posting Type</p>
</li>
<li><p>Post-with No.</p>
</li>
<li><p>Task-at Code</p>
</li>
<li><p>Invoice with No.</p>
</li>
<li><p>Business Flow</p>
</li>
<li><p>Bal. Account Posting Type</p>
</li>
<li><p>Bal. Acc. Post-with No.</p>
</li>
<li><p>Bal. Acc. Task-at Code</p>
</li>
<li><p>Bal. Acc. Invoice-with No.</p>
</li>
<li><p>Site Code</p>
</li>
</ul>
<p>The Invoice Layout Reference 1 field allows users to set additional criteria for determining the invoice layout. The following options are available:</p>
<ul>
<li><p>Invoice Layout Group</p>
</li>
<li><p>Job</p>
</li>
<li><p>Service Group</p>
</li>
<li><p>Service</p>
</li>
<li><p>Contract</p>
</li>
</ul>
<p>These additional criteria can be defined in</p>
<p><em><span class="smallcaps">Invoice Setup</span></em></p>
<p>.</p>
<p><img src="../../images/image2.png" alt=""></p>
<p>The system can refer directly from the invoice layout matrix to the additional options defined in Invoice Setup using the <em>Invoice Layout Reference 1</em> field.</p>
<p>The invoice layout code is determined using the invoice layout matrix as soon as the sales order is released. Invoice layout codes are only determined for order lines that do not already have one, e.g. that was assigned manually via a contract or sales order.</p>
<p>The manually assigned invoice code takes priority over automatic determination through the invoice layout matrix and the latter will not override the former.</p>
<p><strong><u>Note:</u></strong></p>
<p><strong>If the release of a completed order is reversed, the invoice layout will not be undone, nor will it be redefined when the order is released again.</strong></p>
<p>**When a document is copied into another, the invoice layout code is</p>
<p><u>never</u></p>
<p>copied, too.**</p>
<p>Users can go from the invoice layout matrix to the invoice layout card of the current matrix line by clicking on the <em>Layout</em> icon.</p>
<p><img src="../../images/image3.png" alt=""></p>
<h2 id="invoice-layout-assignment-via-external-account">Invoice Layout Assignment via External Account</h2>
<h3 id="general-information-1">General Information</h3>
<p>As described above, it is not generally necessary to assign an invoice layout to or create a new invoice layout for newly entered customers and vendors. Depending on the setup of the invoice layout matrix, this might already be taken care of by a default invoice layout.</p>
<p>It is possible, however, to automate the explicit creation and/or assignment of an invoice layout when a new external account is entered. The default settings for this are defined in</p>
<p><em><span class="smallcaps">Invoice Setup</span></em></p>
<p>under the</p>
<p><span class="smallcaps">Invoice Layout</span></p>
<p>tab for customers and vendors.</p>
<p><img src="../../images/image4.png" alt=""></p>
<p>The values in the following fields are important:</p>
<ul>
<li><p>Inv. Layout New Customer</p>
</li>
<li><p>Inv. Layout Cust. Prefix</p>
</li>
<li><p>Inv. Layout New Vendor</p>
</li>
<li><p>Inv. Layout Vend. Prefix</p>
</li>
</ul>
<p>We will describe the settings for customers, because the settings for vendors are identical.</p>
<h3 id="option-matrix">Option: Matrix</h3>
<p>When a new customer is entered, there are no automatic invoice layout procedures. The customer is assigned an invoice layout using the logic in the current invoice layout matrix if invoice layout codes for the overarching criteria (e.g. posting type Sales, but no information on a concrete customer) are saved there.</p>
<h3 id="option-set-matrix-to-customer">Option: Set Matrix to Customer</h3>
<p>A new invoice layout matrix line will be inserted. First, the invoice layout code will be determined that would be copied for the new customer according to the current setup of the invoice layout matrix (i.e., a matrix line with cross-account criteria must be saved in the system).</p>
<p>The criteria for this general matrix line might be defined as follows:</p>
<ul>
<li><p>Posting Type = Sales</p>
</li>
<li><p>Invoice Layout Code = STANDARD</p>
</li>
</ul>
<p>This matrix line will now be copied, expanded and inserted as a direct reference to the new customer in the invoice layout matrix. The criteria in the new, additional matrix line are defined as follows:</p>
<ul>
<li><p>Posting Type = Sales</p>
</li>
<li><p>Invoice with No. = <em>No. of new customer</em></p>
</li>
<li><p>Invoice Layout Code = STANDARD</p>
</li>
</ul>
<p>The effect up to this point is no different than selecting the <em>Matrix</em> option; in both cases, the customer is assigned the same invoice layout.</p>
<p>However, assigning the invoice layout using the <em>Set Matrix to Customer</em> option is more direct. It might be easier to track at a later point in time and easier to change.</p>
<p>In addition, the filtered assigned matrix can be viewed directly from the customer card by going to</p>
<p>_<span class="smallcaps">navigate</span></p>
<p><span class="smallcaps">Invoice Layout</span>_</p>
<p><em><span class="smallcaps">Invoice Layout Matrix</span></em></p>
<p>, which is not possible when assigning the invoice layout indirectly using general criteria.</p>
<h3 id="option-copy-matrix-to-customer">Option: Copy Matrix to Customer</h3>
<p>The system will create a new invoice layout and insert a new invoice layout matrix line.</p>
<p>The insertion logic for a new invoice layout matrix line is exactly the same as the &quot;Set Matrix to Customer&quot; option. However, the new line is not simply assigned to ascertained invoice layout code (in our example, STANDARD). Instead, the invoice layout is copied, inserted as a new invoice layout with the number of the external account, and assigned to the new matrix line.</p>
<p>Example: A new customer is created with the customer no. 4711. The criteria in the general matrix line are defined as follows:</p>
<ul>
<li><p>Posting Type = Sales</p>
</li>
<li><p>Invoice Layout Code = STANDARD</p>
</li>
</ul>
<p>The criteria in the newly entered matrix line are defined as follows:</p>
<ul>
<li><p>Posting Type = Sales</p>
</li>
<li><p>Invoice with No. = 4711</p>
</li>
<li><p>Invoice Layout Code = 4711</p>
</li>
</ul>
<p>The <em>Code</em> field (= primary key) of the new invoice layout can also be influenced by the <em>Inv. Layout Cust. Prefix</em> field.</p>
<p>The <em>Inv. Layout Cust. Prefix</em> field is only available when the &quot;Copy Matrix to Customer&quot; option has been selected in the <em>Inv. Layout New Customer</em> field. Otherwise, the field is faded and cannot be edited.</p>
<p>When the &quot;Copy Matrix to Customer&quot; option has been selected and a new customer is entered, a new invoice layout will also be generated and inserted into the invoice layout matrix. It will contain the following code (= invoice layout primary key):</p>
<ul>
<li><p>The value saved in the <em>Inv. Layout Cust. Prefix</em> field</p>
</li>
<li><p>The new customer number (= customer primary key)</p>
</li>
</ul>
<p><strong><u>Example:</u></strong></p>
<p><strong>The new customer is no. 4711. If no value is saved in the <em>Inv. Layout Cust. Prefix</em> field, the code of the new invoice layout is also 4711.</strong></p>
<p><strong>If a value is saved in the <em>Inv. Layout Cust. Prefix</em> field, e.g. &quot;D-&quot;, the code of the new invoice layout is D-4711.</strong></p>
<p>This approach helps avoid potential numbering conflicts between automatically and manually setup invoice layouts and also means that the origin and probably assignment of an invoice layout is recognizable directly in its code.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Einfach. Mehr. Wert.
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
